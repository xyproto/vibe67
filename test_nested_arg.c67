// Test nested recursive call as argument
test = (x, y) {
    println(f"test({x}, {y})")
    | x == 0 => y
    | y == 0 => test(x - 1, 1)
    ~> x + y
}

println("== Test 1: test(1, 0) ==")
r1 = test(1, 0)
println(f"Result: {r1} (expected: 1)")

println("")
println("== Test 2: test(2, 0) ==")
r2 = test(2, 0)
println(f"Result: {r2} (expected: 1)")
