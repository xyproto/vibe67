import sdl3 as sdl

sdl.SDL_Init(sdl.SDL_INIT_VIDEO) or! {
    exitf("SDL_Init failed\n")
}
defer sdl.SDL_Quit()

window = sdl.SDL_CreateWindow("Test", 640, 480, 0) or! {
    exitf("Failed to create window\n")
}
defer sdl.SDL_DestroyWindow(window)

renderer = sdl.SDL_CreateRenderer(window, 0) or! {
    exitf("Failed to create renderer\n")
}
defer sdl.SDL_DestroyRenderer(renderer)

printf("All initialized successfully!\n")

// Simple loop - just clear and present a few times
i := 0
@ i < 10 max inf {
    sdl.SDL_RenderClear(renderer)
    sdl.SDL_RenderPresent(renderer)
    sdl.SDL_Delay(100)
    i = i + 1
}

printf("Done!\n")
